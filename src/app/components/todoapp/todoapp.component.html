<div class="col-4 offset-4">
  <div class="d-flex flex-column">
    <form class="d-flex align gap-3 mt-5 " [formGroup]="taskForm" (ngSubmit)="onSubmit()">
      <div>
        <label for="name" class="form-label">Görev : </label>
        <input type="email" class="form-control" id="name" formControlName="name">
      </div>
      <div>
        <label for="task" class="form-label">Atanan Kişi</label>
        <input type="email" #todoText class="form-control" id="task" formControlName="task">
      </div>
      <div class="align-self-end">
        <button class="btn btn-primary">
          Ekle
        </button>
      </div>
    </form>
    <p *ngIf="msg">{{msg}}</p>
  </div>
</div>
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-3 card  text-start " style="background-color:#F9F9F9;">
      <h3 class="my-2">YAPILACAKLAR {{todos.length}}</h3>
      <ul class="tasks text-start">
        <li *ngFor="let todo of todos; let i =index;" data-bs-toggle="modal" data-bs-target="#exampleModal" class="text-start">
          <a class="task-item text-start" (click)="openModal()">

            <span class="fs-7 text my-2 text-start">{{todo.description}}</span>
            
            <span class="fs-7 text my-2"><fa-icon [icon]="circleIcon" style="color: yellow;"></fa-icon>
              {{todo.status}}</span>
          </a>
          <div class="row">
          <div class="wrapper" *ngIf="modal">
            
            <div class="col-8 card modal-card">
              <div class="row">
                <a class="text-end mt-4 pe-5" (click)="closeModal()" style="cursor: pointer;"><i class="bi bi-x-lg  " style="font-size: 18px;"></i></a>
              <div class="col-7 mx-5">
                <div class="d-flex flex-column gap-2 justify-content-center ">
                  <h2 class="fs-4  mt-4 m-0">{{todo.description}}</h2>
                  <div class="d-flex flex-row gap-2 model-header">
                  <a><i class="bi bi-file-earmark-plus"></i> Ekle</a>
                  <a><i class="bi bi-diagram-2-fill"></i> Alt konu ekle</a>
                  <a>
                    <svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M12.856 5.457l-.937.92a1.002 1.002 0 000 1.437 1.047 1.047 0 001.463 0l.984-.966c.967-.95 2.542-1.135 3.602-.288a2.54 2.54 0 01.203 3.81l-2.903 2.852a2.646 2.646 0 01-3.696 0l-1.11-1.09L9 13.57l1.108 1.089c1.822 1.788 4.802 1.788 6.622 0l2.905-2.852a4.558 4.558 0 00-.357-6.82c-1.893-1.517-4.695-1.226-6.422.47"></path><path d="M11.144 19.543l.937-.92a1.002 1.002 0 000-1.437 1.047 1.047 0 00-1.462 0l-.985.966c-.967.95-2.542 1.135-3.602.288a2.54 2.54 0 01-.203-3.81l2.903-2.852a2.646 2.646 0 013.696 0l1.11 1.09L15 11.43l-1.108-1.089c-1.822-1.788-4.802-1.788-6.622 0l-2.905 2.852a4.558 4.558 0 00.357 6.82c1.893 1.517 4.695 1.226 6.422-.47"></path></g></svg>
                    Konu bağlantısı ekle</a>
                </div>
                <div class="d-flex flex-column model-description my-4">
                  <a>Açıklama</a>
                  <input placeholder="Açıklama ekleyin...">
                </div>
                <div class="d-flex flex-column model-description mt-2 gap-2">
                  <a>Etkinlik</a>
                  <div class="model-events d-flex flex-row justify-content-between align-items-center">
                    <div>
                    <span class="me-2">Göster:</span>
                    <a>Tümü</a>
                    <a>Yorumlar</a>
                    <a>Geçmiş</a>
                    <a>İş kaydı</a>
                  </div>
                    <a class="modelevents-filter">Önce en yeni</a>
                  </div>
                 <div class="d-flex flex-row">
                  <a class="rounded-5 border border-1 p-3 me-2" style="background-color: green;">UB</a>
                  <input class="description-input" placeholder="Bir yorum ekleyin...">
                </div>
                <p class="ms-5" style="font-size: 12px;"><span style="font-weight: 500;">Uzman ipucu:</span> Yorum yapmak için<span class=" border-1 px-2 py-1 mx-1" style="background-color:#e4e3e3;">M</span>tuşuna basın</p>
                </div>
                  
              </div>
              <div class="col-4">

              </div>
              
                <div class="d-flex gap-2 my-2">
                  <!-- <button class="btn btn-primary" (click)="formatDate1(date,date1,task,i)">KAYDET</button> -->
                  
                </div>
              </div>
              <div class="col-4">
                
                  <div class="card mt-2 p-2" *ngFor="let item of started">
                    <h4 class="my-2" style="font-weight: 500;">Sabitlenmiş Alanlar</h4>
                    <p style="font-size: 14px;">Sabitlemeye başlamak için bir alan etiketinin yanındaki  simgesine tıklayın.</p>
                  </div>
                  <div class="card mt-3 my-2">
                    <h4 class="border-bottom py-2 px-3">Ayrıntılar</h4>
                    <div class="row my-2">
                      <div class="col-5 ms-3">
                      Atanan Kişi
                      </div>
                      <div class="col-6">
                        <i class="bi bi-person p-1" style="font-size:large; background-color: #e4e3e3; border-radius: 17px;"></i> Atanmamış
                      </div>
                    </div>
                    <div class="row my-3">
                      <div class="col-5 ms-3">
                      Raporlayan
                      </div>
                      <div class="col-6">
                        <a class="rounded-5 border border-1 p-1 me-2" style="background-color: green; font-size: 12px;">UB</a> Umut Bektaş
                      </div>
                    </div>
                    <div class="row my-2">
                      <div class="col-5 ms-3">
                      Etiketler
                      </div>
                      <div class="col-6">
                        <p>Yok</p> 
                      </div>
                    </div>
                    <div class="row my-2">
                      <div class="col-5 ms-3 d-flex align-items-center">
                      Bitiş tarihi
                      </div>
                      <div class="col-6  ">
                        <mat-form-field style="color: aqua; padding: 0; font-size: small;" class="w-100">
                          <mat-label>Bitiş Tarihi</mat-label>
                          <input matInput [matDatepicker]="picker2" [(ngModel)]="date1" #myInput1>
                          <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                          <mat-datepicker #picker2></mat-datepicker>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row my-2">
                      <div class="col-5 ms-3">
                      Süre Takibi
                      </div>
                      <div class="col-6">
                        <p>Yok</p> 
                      </div>
                    </div>
                    <div class="row my-2 d-flex align-items-center">
                      <div class="col-5 ms-3">
                      Start date
                      </div>
                      <div class="col-6">
                        <mat-form-field class="w-100 ">
                          <mat-label>Başlangıç Tarihi</mat-label>
                          <input matInput [matDatepicker]="picker1" [(ngModel)]="date" #myInput>
                          <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                          <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                      </div>
                    </div>

                  </div>
              </div>
            </div>
           
            
            </div>
          </div>
          </div>
        </li>
      </ul>
    </div>
    <div class="col-3 card mx-2">
      <h3 class="my-2">DEVAM EDİYOR</h3>
      <ul class="tasks">
        <li *ngFor="let task of started; let i =index;" data-bs-toggle="modal" data-bs-target="#exampleModal">
          <a class="task-item">
            <span class="my-1">{{task.description}}</span>
            <span class="my-1"><fa-icon [icon]="circleIcon" style="color: green;"></fa-icon> Devam ediyor</span>
            <span class="my-1">{{task.id}} gün kaldı</span>
          </a>
        </li>
      </ul>
    </div>
    <div class="col-3 card mx-2">
      <h3 class="my-2">TAMAMLANDI</h3>
     
    </div>
  </div>
</div>
<router-outlet></router-outlet>